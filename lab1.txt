DO $$ 
DECLARE      
v_emp_id Employees.employee_id%TYPE := 105;      
v_emp  Employees%ROWTYPE;  
BEGIN     
SELECT * INTO v_emp     
FROM Employees      
WHERE employee_id = v_emp_id;  --     
RAISE NOTICE'Имя % %', v_emp.first_name, v_emp.last_name;
RAISE NOTICE'Работает в отделе % % %', v_emp.department_id, 'Должность', v_emp.job_id;
RAISE NOTICE'Поступил на работу % % %', v_emp.hire_date, 'Зарплата', v_emp.salary; 
END $$; 

do $$
declare 
sal integer;
begin
	SELECT salary INTO sal   
	FROM Employees      
	WHERE employee_id = 102;
	RAISE notice 'до %', sal;     
	SELECT salary INTO sal   
	FROM Employees      
	WHERE employee_id = 103;
	RAISE notice 'до %', sal;  
	UPDATE employees
	set salary = salary + 
	case job_id
		when 'IT_PROG' then 300
		when 'MK_MAN' then 200
		when 'MK_REP' then 220
		when 'PR_REP' then 180
		when 'PU_CLERK' then 150
		else 0
	end;
	SELECT salary INTO sal   
	FROM Employees      
	WHERE employee_id = 102;
	RAISE notice 'После %', sal;  
	SELECT salary INTO sal   
	FROM Employees      
	WHERE employee_id = 103;
	RAISE notice 'После %', sal;  
end $$

DO $$ 
DECLARE 
v_num int4 := 14;
v_i int4 := 0;
v_k int4 := 0;
v_sum int4 := 0;
iter1 integer :=0;
iter2 integer :=0;
begin
SELECT SUM(quantity*unit_price) 
INTO v_sum         
FROM order_items         
WHERE order_id =  v_num;    
raise notice 'Цена до %', v_sum;
WHILE v_sum  <  9999999 LOOP       
	IF v_i < 5 THEN          
	UPDATE order_items        
	SET unit_price = 1.01*unit_price           
	WHERE order_id =  v_num;          
	v_i := v_i + 1;
	iter1 := iter1 + 1;CONTINUE;       
	END IF; 
	    
	UPDATE order_items      
	SET quantity = quantity +1       
	WHERE order_id =  v_num; 
	--
	iter2 := iter2 + 1;
	v_k := v_k + 1;    
	EXIT WHEN v_k > 30; 
	--        
		SELECT SUM(quantity*unit_price) 
		INTO v_sum         
		FROM order_items         
		WHERE order_id =  v_num;    
END LOOP;
raise notice 'Цена после %', v_sum;
raise notice 'Итерации 1 %', iter1;
raise notice 'Итерации 2 %', iter2;
end $$;